var invalidError="Invalid colour specification",undef="undefined",round=Math.round,max=Math.max,min=Math.min,floor=Math.floor,Irid=function(a){if(!(this instanceof Irid))return new Irid(a);if(!a)throw invalidError;if(a instanceof Irid)this.hsl=a.hsl,this.rgb=a.rgb;else if(void 0!==a.h&&void 0!==a.s&&void 0!==a.l)this.hsl=a;else if("string"==typeof a){if(this.rgb=hexToRGB(a)||cssRGBToRGB(a)||hexToRGB(Irid.swatches[a.toLowerCase()]),!this.rgb&&(this.hsl=cssHSLToHSL(a),!this.hsl))throw invalidError;
}else void 0!==a.r&&void 0!==a.g&&void 0!==a.b&&(this.rgb=a)};
Irid.prototype={_makeRGB:function(){typeof this.rgb==undef&&(this.rgb=hslToRGB(this.hsl))},_makeHSL:function(){typeof this.hsl==undef&&(this.hsl=rgbToHSL(this.rgb))},luma:function(){this._makeRGB();var a=this.rgb;return(.3*a.r+.59*a.g+.11*a.b)/255},relativeLuminance:function(){function a(a){a/=255;return.03928>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}this._makeRGB();return.2126*a(this.rgb.r)+.7152*a(this.rgb.g)+.0722*a(this.rgb.b)},contrastRatio:function(a){a=Irid(a);var b;a.relativeLuminance()>this.relativeLuminance()?
(b=a,a=this):b=this;return(b.relativeLuminance()+.05)/(a.relativeLuminance()+.05)},red:function(a){this._makeRGB();return typeof a==undef?this.rgb.r:new Irid({r:parseInt(a,10),g:this.rgb.g,b:this.rgb.b,a:this.rgb.a})},green:function(a){this._makeRGB();return typeof a==undef?this.rgb.g:new Irid({r:this.rgb.r,g:parseInt(a,10),b:this.rgb.b,a:this.rgb.a})},blue:function(a){this._makeRGB();return typeof a==undef?this.rgb.b:new Irid({r:this.rgb.r,g:this.rgb.g,b:parseInt(a,10),a:this.rgb.a})},hue:function(a){this._makeHSL();
return typeof a==undef?this.hsl.h:new Irid({h:parseFloat(a),s:this.hsl.s,l:this.hsl.l,a:this.hsl.a})},saturation:function(a){this._makeHSL();return typeof a==undef?this.hsl.s:new Irid({h:this.hsl.h,s:parseFloat(a),l:this.hsl.l,a:this.hsl.a})},lightness:function(a){this._makeHSL();return typeof a==undef?this.hsl.l:new Irid({h:this.hsl.h,s:this.hsl.s,l:parseFloat(a),a:this.hsl.a})},alpha:function(a){if(0===arguments.length)return(this.hsl||this.rgb).a;a=null===a||void 0===a?void 0:parseFloat(a);return this.hsl?
new Irid({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l,a:a}):new Irid({r:this.rgb.r,g:this.rgb.g,b:this.rgb.b,a:a})},lighten:function(a){this._makeHSL();return new Irid({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l+(1-this.hsl.l)*a,a:this.hsl.a})},darken:function(a){this._makeHSL();return new Irid({h:this.hsl.h,s:this.hsl.s,l:this.hsl.l*(1-a),a:this.hsl.a})},invert:function(){this._makeRGB();return new Irid({r:255-this.rgb.r,g:255-this.rgb.g,b:255-this.rgb.b,a:this.rgb.a})},complement:function(){this._makeHSL();
return new Irid({h:(this.hsl.h+.5)%1,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a})},desaturate:function(){this._makeHSL();return new Irid({h:this.hsl.h,s:0,l:this.hsl.l,a:this.hsl.a})},contrast:function(a,b){return new Irid(.6<this.luma()?b||"#111":a||"#eee")},analagous:function(){return[this,this.hue(this.hue()-1/12),this.hue(this.hue()+1/12)]},tetrad:function(){var a=this.hue();return[this,this.hue(a+.25),this.hue(a+.5),this.hue(a+.75)]},rectTetrad:function(){return[this,this.hue(this.hue()+1/6),this.hue(this.hue()+
.5),this.hue(this.hue()+4/6)]},triad:function(){return[this,this.hue(this.hue()-1/3),this.hue(this.hue()+1/3)]},splitComplementary:function(){return[this,this.hue(this.hue()-5/12),this.hue(this.hue()+5/12)]},blend:function(a,b){"undefined"==typeof b&&(b=.5);var c=1-b;a=new Irid(a);return new Irid({r:Math.floor(this.red()*c+a.red()*b),g:Math.floor(this.green()*c+a.green()*b),b:Math.floor(this.blue()*c+a.blue()*b)})},toString:function(){return this.toHexString()},toHexString:function(){this._makeRGB();
return rgbToHex(this.rgb)},toRGBString:function(){this._makeRGB();return rgbToCSSRGB(this.rgb)},toHSLString:function(){this._makeHSL();return hslToCSSHSL(this.hsl)}};
var parseHexValue=function(a){1==a.length&&(a+=a);return max(0,min(255,parseInt(a,16)))},parseRGBValue=function(a){var b="%"==a.charAt(a.length-1);b&&(a=a.slice(0,a.length-1));return max(0,min(255,round(parseInt(a,10)*(b?2.55:1))))},parseAlphaValue=function(a){return a?max(0,min(1,parseFloat(a))):void 0},parseHueValue=function(a){a=parseInt(a,10)%360;0>a&&(a+=360);return a/360},parseSLValue=function(a){return max(0,min(100,parseInt(a,10)))/100};
Irid.canInterpret=function(a){return a&&(a instanceof Irid||void 0!==a.h&&void 0!==a.s&&void 0!==a.l||"string"==typeof a&&(hexToRGB(a)||cssRGBToRGB(a)||cssHSLToHSL(a)||hexToRGB(Irid.swatches[a.toLowerCase()]))||void 0!==a.r&&void 0!==a.g&&void 0!==a.b)};
var hexToRGB=Irid.hexToRGB=function(a){return(a=/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i.exec(a)||/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i.exec(a))?{r:parseHexValue(a[1]),g:parseHexValue(a[2]),b:parseHexValue(a[3]),a:typeof a[4]==undef||""==a[4]?void 0:parseHexValue(a[4])/255}:void 0},cssRGBToRGB=Irid.cssRGBToRGB=function(a){return(a=/^rgba?\(\s*(-?\d+%?)\s*,\s*(-?\d+%?)\s*,\s*(-?\d+%?)\s*(?:,\s*(-?\d*(?:\.\d+)?)?)?\s*\)$/.exec(a))?{r:parseRGBValue(a[1]),g:parseRGBValue(a[2]),b:parseRGBValue(a[3]),
a:parseAlphaValue(a[4])}:void 0},rgbToCSSRGB=Irid.rgbToCSSRGB=function(a){return"rgb"+(a.a?"a":"")+"("+round(a.r)+", "+round(a.g)+", "+round(a.b)+(a.a?", "+a.a.toFixed(2):"")+")"},hslToCSSHSL=Irid.hslToCSSHSL=function(a){return"hsl"+(a.a?"a":"")+"("+round(360*a.h)+", "+round(100*a.s)+"%, "+round(100*a.l)+"%"+(a.a?", "+a.a.toFixed(2):"")+")"},cssHSLToHSL=Irid.cssHSLToHSL=function(a){return(a=/^hsla?\(\s*(-?\d+)\s*,\s*(-?\d+%)\s*,\s*(-?\d+%)\s*(?:,\s*(-?\d*(?:\.\d+)?)?)?\s*\)$/.exec(a))?{h:parseHueValue(a[1]),
s:parseSLValue(a[2]),l:parseSLValue(a[3]),a:parseAlphaValue(a[4])}:void 0},rgbToHex=Irid.rgbToHex=function(a){var b="#"+(16>a.r?"0":"")+a.r.toString(16)+(16>a.g?"0":"")+a.g.toString(16)+(16>a.b?"0":"")+a.b.toString(16);void 0!==a.a&&(a=floor(255*a.a),b+=(16>a?"0":"")+a.toString(16));return b},rgbToHSL=Irid.rgbToHSL=function(a){var b,c,e,f,d,g=a.r/255,k=a.g/255,h=a.b/255,l=f=0,m;b=max(g,k,h);c=min(g,k,h);m=(c+b)/2;0<m&&(l=e=b-c,0<l&&(l/=.5>=m?b+c:2-b-c,f=(b-g)/e,d=(b-k)/e,e=(b-h)/e,f=(g==b?k==c?5+
e:1-d:k==b?h==c?1+f:3-e:g==c?3+d:5-f)/6));return{h:f%1,s:l,l:m,a:a.a}},hslToRGB=Irid.hslToRGB=function(a){var b,c,e,f,d,g,k,h;h=a.h%1;b=a.s;d=a.l;0>h&&(h+=1);c=e=f=d;b=.5>=d?d*(1+b):d+b-d*b;if(0<b)switch(d=d+d-b,g=(b-d)/b,h*=6,k=floor(h),g=b*g*(h-k),h=d+g,g=b-g,k){case 0:c=b;e=h;f=d;break;case 1:c=g;e=b;f=d;break;case 2:c=d;e=b;f=h;break;case 3:c=d;e=g;f=b;break;case 4:c=h;e=d;f=b;break;case 5:c=b,e=d,f=g}return{r:floor(255*c),g:floor(255*e),b:floor(255*f),a:a.a}};
Irid.swatches={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",transparent:"rgb(0,0,0,0)",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};module.exports=Irid;
